<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
    <title>iView</title>
    <link rel="stylesheet" href="../assets/css/iview.css">
    <link rel="stylesheet" href="../assets/css/app.css">
</head>
<body>
    <div id="app" v-cloak>
        <div class="title" v-show="status === 'options'">iView - 新建工程</div>
        <div class="title" v-show="status === 'log'">
            iView - 创建中
            <Icon type="load-c" class="ivu-load-loop"></Icon>
        </div>
        <div class="create-app">
            <div class="create-form" v-show="status === 'options'">
                <i-form v-ref:form-validate :model="formValidate" :rules="ruleValidate" :label-width="120">
                    <Form-item label="iView 版本：" prop="iviewVersion">
                        <Radio-group :model.sync="formValidate.iviewVersion">
                            <Radio value="1.x">1.x</Radio>
                            <Radio value="2.x" disabled>2.x</Radio>
                        </Radio-group>
                    </Form-item>
                    <Form-item label="CSS 预处理：" prop="css">
                        <Checkbox-group :model.sync="formValidate.css">
                            <Checkbox value="less"></Checkbox>
                            <Checkbox value="sass"></Checkbox>
                        </Checkbox-group>
                    </Form-item>
                    <Form-item label="Ajax：" prop="ajax">
                        <div slot="label">
                            <span>Ajax</span>
                            <Tooltip content="基于 axios">
                                <Icon type="ios-help" size="14" color="#3399ff"></Icon>
                            </Tooltip>
                            <span>：</span>
                        </div>
                        <Switch :checked.sync="formValidate.ajax">
                            <Icon type="android-done" slot="open"></Icon>
                            <Icon type="android-close" slot="close"></Icon>
                        </Switch>
                    </Form-item>
                    <Form-item label="多语言：" prop="i18n">
                        <div slot="label">
                            <span>多语言</span>
                            <Tooltip content="基于 vue-i18n">
                                <Icon type="ios-help" size="14" color="#3399ff"></Icon>
                            </Tooltip>
                            <span>：</span>
                        </div>
                        <Switch :checked.sync="formValidate.i18n">
                            <Icon type="android-done" slot="open"></Icon>
                            <Icon type="android-close" slot="close"></Icon>
                        </Switch>
                    </Form-item>
                    <Form-item label="状态管理：" prop="store">
                        <Checkbox-group :model.sync="formValidate.store">
                            <Checkbox value="vuex"></Checkbox>
                            <Checkbox value="bus.js"></Checkbox>
                        </Checkbox-group>
                    </Form-item>
                    <Form-item label="图表：" prop="chart">
                        <Checkbox-group :model.sync="formValidate.chart">
                            <Checkbox value="echarts"></Checkbox>
                        </Checkbox-group>
                    </Form-item>
                    <Form-item label="ESLint：" prop="eslint">
                        <Switch :checked.sync="formValidate.eslint">
                            <Icon type="android-done" slot="open"></Icon>
                            <Icon type="android-close" slot="close"></Icon>
                        </Switch>
                    </Form-item>
                    <Form-item label="附加功能：" prop="funs">
                        <Checkbox-group :model.sync="formValidate.funs">
                            <Checkbox value="cookies">Cookie（js-cookie）</Checkbox>
                            <Checkbox value="clipboard">复制（clipboard）</Checkbox>
                            <Checkbox value="html2canvas">图像存储（html2canvas）</Checkbox>
                            <Checkbox value="rasterizehtml">图像存储（rasterizeHTML）</Checkbox>
                        </Checkbox-group>
                    </Form-item>
                    <a href="javascript:void(0)" class="create-app-more" v-if="!showMore" @click="handleShowMore">
                        <span>显示更多配置</span>
                        <Icon type="ios-arrow-down"></Icon>
                    </a>
                    <div class="create-app-more-item" v-if="showMore">
                        <Form-item label="项目名称：" prop="name">
                            <i-input :value.sync="formValidate.name" placeholder="请输入项目名，推荐使用英文"></i-input>
                        </Form-item>
                        <Form-item label="版本号：" prop="version">
                            <i-input :value.sync="formValidate.version" placeholder="请输入版本号，例如 1.0.0"></i-input>
                        </Form-item>
                        <Form-item label="项目介绍：" prop="desc">
                            <i-input type="textarea" :value.sync="formValidate.desc" placeholder="请输入项目介绍..."></i-input>
                        </Form-item>
                        <Form-item label="Git 地址：" prop="git">
                            <i-input :value.sync="formValidate.git" placeholder="请输入项目所在仓库地址"></i-input>
                        </Form-item>
                    </div>
                </i-form>
                <Row class="create-app-submit">
                    <i-col span="9" offset="2">
                        <i-button type="primary" long @click="handleSubmit('formValidate')">创建工程</i-button>
                    </i-col>
                    <i-col span="9" offset="2">
                        <i-button type="ghost" long @click="handleReset('formValidate')" style="margin-left: 8px">重置</i-button>
                    </i-col>
                </Row>
            </div>
            <div class="create-info" v-show="status === 'log'">
                <log :status="log.package" content="创建 package.json"></log>
                <log :status="log.webpackBase" content="创建 webpack 基础配置文件"></log>
                <log :status="log.webpackDev" content="创建 webpack 开发环境配置文件"></log>
                <log :status="log.webpackProd" content="创建 webpack 生产环境配置文件"></log>
                <log :status="log.router" content="创建路由配置文件 router.js"></log>
                <log :status="log.i18n" content="创建多语言配置文件 locale.js" v-if="formValidate.i18n"></log>
                <log :status="log.app" content="创建路由挂载根组件 app.vue"></log>
                <log :status="log.template" content="创建首页模板 index.ejs"></log>
                <log :status="log.indexHtml" content="创建首页 index.html"></log>
                <log :status="log.indexVue" content="创建首页组件 index.vue"></log>
                <log :status="log.main" content="创建入口文件 main.js"></log>
                <log :status="log.config" content="创建配置文件 config.js"></log>
                <log :status="log.util" content="创建工具集文件 util.js"></log>
                <log :status="log.bus" content="创建中央事件总线文件 bus.js" v-if="formValidate.store.indexOf('bus.js') > -1"></log>
                <log :status="log.eslintRc" content="创建 ESLint 配置文件 .eslintrc.json" v-if="formValidate.eslint"></log>
                <log :status="log.eslintIgnore" content="创建 ESLint 忽略文件 .eslintignore" v-if="formValidate.eslint"></log>
                <log :status="log.gitignore" content="创建 .gitignore"></log>
                <log :status="log.editorconfig" content="创建 .editorconfig"></log>
            </div>
        </div>
    </div>
    <script type="text/javascript" src="../assets/js/vue.min.js"></script>
    <script type="text/javascript" src="../assets/js/iview.min.js"></script>
    <script type="text/javascript" src="../src/create.js"></script>
</body>
</html>